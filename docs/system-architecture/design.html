<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-system-architecture/design">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">design | Project Algorithmic-trading</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://Capstone-Projects-2023-Spring.github.io/project-algorithmic-trading/docs/system-architecture/design"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="design | Project Algorithmic-trading"><meta data-rh="true" name="description" content="Section 1 - Overview"><meta data-rh="true" property="og:description" content="Section 1 - Overview"><link data-rh="true" rel="icon" href="/project-algorithmic-trading/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Capstone-Projects-2023-Spring.github.io/project-algorithmic-trading/docs/system-architecture/design"><link data-rh="true" rel="alternate" href="https://Capstone-Projects-2023-Spring.github.io/project-algorithmic-trading/docs/system-architecture/design" hreflang="en"><link data-rh="true" rel="alternate" href="https://Capstone-Projects-2023-Spring.github.io/project-algorithmic-trading/docs/system-architecture/design" hreflang="x-default"><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script><link rel="stylesheet" href="/project-algorithmic-trading/assets/css/styles.c52b8189.css">
<link rel="preload" href="/project-algorithmic-trading/assets/js/runtime~main.283303db.js" as="script">
<link rel="preload" href="/project-algorithmic-trading/assets/js/main.c4817d14.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/project-algorithmic-trading/"><div class="navbar__logo"><img src="/project-algorithmic-trading/img/Tradester_Logo.svg" alt="Tradester Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/project-algorithmic-trading/img/Tradester_Logo.svg" alt="Tradester Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Project Algorithmic-trading</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/project-algorithmic-trading/docs/intro">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Capstone-Projects-2023-Spring/project-algorithmic-trading" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/project-algorithmic-trading/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/project-algorithmic-trading/docs/category/requirements-specification">Requirements Specification</a><button aria-label="Toggle the collapsible sidebar category &#x27;Requirements Specification&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/project-algorithmic-trading/docs/category/software-development-plan">Software Development Plan</a><button aria-label="Toggle the collapsible sidebar category &#x27;Software Development Plan&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/project-algorithmic-trading/docs/category/system-architecture">System Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;System Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/project-algorithmic-trading/docs/system-architecture/design">design</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/project-algorithmic-trading/docs/category/api-specification">API Specification</a><button aria-label="Toggle the collapsible sidebar category &#x27;API Specification&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/project-algorithmic-trading/docs/category/test-procedures">Test Procedures</a><button aria-label="Toggle the collapsible sidebar category &#x27;Test Procedures&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/project-algorithmic-trading/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/project-algorithmic-trading/docs/category/system-architecture"><span itemprop="name">System Architecture</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">design</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>design</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="section-1---overview">Section 1 - Overview<a class="hash-link" href="#section-1---overview" title="Direct link to heading">​</a></h2><p>The system is comprised of 4 different components: a client application in React, a server application in Django, two PostgreSQL databases, and a machine learning model for stock prediction that lives on Professor Wang&#x27;s GPU server. The databases are accessed through an ORM. The user interacts with the client application, which makes API calls to the server. The server handles the calls, adding/deleting/modifying the database, or simply fetching data from the database. Our database is scheduled to be updated with new stock data daily. Our machine learning model is scheduled to run daily to make predictions for the next day for every stock in the S&amp;P 500. Scheduling is done separately from our application using a Heroku scheduling tool.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="section-2---components-and-interfaces">Section 2 - Components and Interfaces<a class="hash-link" href="#section-2---components-and-interfaces" title="Direct link to heading">​</a></h2><p>This application will use four different components: client, server, database, and a machine learning model.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="21-client">2.1 Client<a class="hash-link" href="#21-client" title="Direct link to heading">​</a></h6><p>A React app. Upon logging in, the user has access to a graph that shows stock prices for the S&amp;P 500 companies over the past month. The user can add fake funds to their account and use those funds to simulate the purchasing of stocks. Purchased stocks are added to the user&#x27;s portfolio, which can be accessed through the website&#x27;s navigation bar. The portfolio page displays the user&#x27;s available funds (which are simulated), as well as a graph for each stock that the user &quot;owns.&quot; Each graph will display the number of shares of a stock that the user owns, as well as the stock&#x27;s close values for the last six days. The graph will also display a close price prediction for the next business day, to help guide the user&#x27;s stock trading decisions. The website will also allow users to add friends to be able to view their portfolios. This also helps the user in their stock trading decisions, as they can follow in the footsteps of a mentor who has experience in the stock market.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="22-server">2.2 Server<a class="hash-link" href="#22-server" title="Direct link to heading">​</a></h6><p>A Django application. This component accesses stock data from our database and sends it to the client. This allows the client to display stock data of the S&amp;P 500 companies. The server also handles user authentication and account registration. It receives and processes requests to add/sell stocks to/from the user&#x27;s portfolio. It processes the sending, receiving, and responding of friend requests. It also allows users to search for other users to add them as friends. The interface to the server is through HTTP requests coming from the client.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="23-database">2.3 Database<a class="hash-link" href="#23-database" title="Direct link to heading">​</a></h6><p>Two PostgreSQL databases. One database is used to hold user, friendship, friend request, and portfolio data. The other database is used to hold large amounts of historical stock data, and next-day stock prediction data produced by the machine learning model. The interface for this component is through an ORM that translates python to SQL queries. These queries come from the server.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="24-machine-learning-model">2.4 Machine Learning Model<a class="hash-link" href="#24-machine-learning-model" title="Direct link to heading">​</a></h6><p>A machine learning model that predicts the next day&#x27;s close value for each of the stocks in the S&amp;P 500. This model lives on Professor Wang&#x27;s GPU server, and is set to run daily after the stock market closes. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="algorithms">Algorithms<a class="hash-link" href="#algorithms" title="Direct link to heading">​</a></h2><p>This application will utilize machine learning to make decisions on which stock to purchase. Stocks will be analyzed as discrete time data, and whether or not to purchase a stock will be determined by the stock&#x27;s price, market cap, historical returns, volume of historical trades, alpha (excess return), beta (volatility) and any other quantitative data. This means we will be using technical anaylsis for our algorithms, which is best used in more short term trades. Essentially, the behavior of stock prices will be treated as a regression problem. In particular, there will be three trading strategies employed:</p><ol><li>S&amp;P 500: Evaluate each stock comprising the S&amp;P 500, determine its growth potential and sort each company in order of predicted growth. Then, if fractional shares are allowed, divide the user&#x27;s capital and invest in each stock in proportion to its growth potential, i.e. if Apple is projected to be three times more likely to grow than Tesla, invest three times more money into Apple than Tesla. If fractional shaes are not allowed, then find every permutation of stocks that may be purchased from this list and chose the overall most profitable one.</li><li>Long Term: Analyze the stock market and flag certain stocks for growth, investing a specified percentage of the user&#x27;s capital into each flagged stock. Then, once the stock is determined to no longer be growing, sell the stock.</li><li>Day Trading: Analyzing the stock market, find stocks that are currently growing and then immediately sell once the begin decreasing. This will be done at a high frequency.</li></ol><p>The success of these algorithms will be determined by how they perform in comparison to the S&amp;P 500, root mean squared error, and mean absolute percent error.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="section-4---class-diagrams">Section 4 - Class Diagrams<a class="hash-link" href="#section-4---class-diagrams" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-client-diagram">4.1 Client Diagram<a class="hash-link" href="#41-client-diagram" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="app">App<a class="hash-link" href="#app" title="Direct link to heading">​</a></h4><p><em>loggedIn</em>: A boolean value indicating if user is logged in</p><p><em>Nav()</em>: The navigation bar</p><p><em>HomePage()</em>: A welcome page that the user lands on upon visiting the page.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="login">Login<a class="hash-link" href="#login" title="Direct link to heading">​</a></h4><p><em>username</em>: State variable holding the current text in the username input field.</p><p><em>password</em>: State variable holding the current text in the password input field.</p><p><em>feedback</em>: State variable holding the current feedback. Feedback is used to display messages (error or otherwise) to the user.</p><p><em>onLogin()</em>: Called when the user clicks the login button or hits enter after typing a password. This function makes an API call to authenticate the user. On success, the user is navigated to the home page. Otherwise, an error message is displayed</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="register">Register<a class="hash-link" href="#register" title="Direct link to heading">​</a></h4><p><em>username</em>: State variable holding the current text in the username input field.</p><p><em>password</em>: State variable holding the current text in the password input field.</p><p><em>passwordConf</em>: State variable holding the current text in the password confirmation input field.</p><p><em>feedback</em>: State variable holding the current feedback. Feedback is used to display messages (error or otherwise) to the user.</p><p><em>onRegister()</em>: Called when the user clicks the register button or hits enter after typing the password confirmation. This function makes an API call to try to register the user. On success, a message is displayed indicating that an account was created. Otherwise, an error message is displayed.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="portfolio">Portfolio<a class="hash-link" href="#portfolio" title="Direct link to heading">​</a></h4><p><em>username</em>: The username of the user who owns the portfolio. Passed through props.</p><p><em>isSelf</em>: An indication if this portfolio belongs to the user who is viewing it. If this value is true, a sell button is displayed next to each stock in the user&#x27;s portfolio. Passed through props.</p><p><em>userId</em>: The user id of the user who owns the portfolio. Used to query the backend for the portfolio data. Passed through props.</p><p><em>sellStock(String stock, Number qty, Number price)</em>: Takes in the stock&#x27;s ticker, the number of shares of said stock to sell, and the price of the stock. It makes an API call to sell the stock and sends an alert to the user that the stock was sold.</p><p><em>genData(String name, Array data)</em>: Takes in the name (ticker) of a stock and an array containing objects that each contain a close price and the date of that close price. Generates a random color for the graph and returns the parameters in a way that is expected by the Apex Charts library.</p><p><em>loadPortfolio(Number id)</em>: Makes an API call to get the portfolio of the user with the supplied id.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="candle">Candle<a class="hash-link" href="#candle" title="Direct link to heading">​</a></h4><p><em>currentStockAmount</em>: The amount of shares to purchase from the currently selected stock.</p><p><em>getDefaultDisplay()</em>: Shows stock data for a random company. Called upon landing on the candle page.</p><p><em>updatePortfolio()</em>: &quot;Purchase&quot; a share (or multiple, depending on ) of the selected stock and add it to the user&#x27;s portfolio.</p><p><em>updateAmount()</em>: Update currentStockAmount based on changes to the input field.</p><p><em>updateChart(String ticker, String name)</em>: Makes the chart display stock data of the company with the supplied ticker. The name parameter is the company&#x27;s name joined with the ticker joined with the sector that the company is in. The name parameter is displayed as the chart&#x27;s title.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="simulation">Simulation<a class="hash-link" href="#simulation" title="Direct link to heading">​</a></h4><p><em>investment</em>: State variable representing the user&#x27;s current available funds for investment.</p><p><em>setAndFetchInvestment(Number value)</em>: Makes an API call to set the supplied value as the user&#x27;s investment. Updates the investment value on screen if the API call was successful.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="search">Search<a class="hash-link" href="#search" title="Direct link to heading">​</a></h4><p><em>username</em>: State variable holding the current text in the username input field.</p><p><em>foundUser</em>: Object that holds information about the last searched user.</p><p>The object looks like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  username: String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  user_id: Number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  is_friend: Boolean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  incoming_request: Boolean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  outgoing_request: Boolean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This data is needed to determine what the search pages looks like as well as what actions can be made from the search page. If the searched user is a friend, the page displays a tag that shows friendship status. If the user has an incoming friend request from the searched user, no action can be taken from the search page. If the user has an outgoing friend request to the searched user, the user can revoke that friend request. Finally, if the searched user is not a friend, the user can send them a friend request.</p><p><em>sendRequest()</em>: Make an API call to send a friend request to the current found user.</p><p><em>revokeRequest()</em>: Make an API call to revoke a friend request that was previously sent to the current found user.</p><p><em>findUser()</em>: Make an API call to search for a user whose username matches the current value of <code>username</code></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="friends">Friends<a class="hash-link" href="#friends" title="Direct link to heading">​</a></h4><p><em>friends</em>: State variable holding a list of the user&#x27;s friends.</p><p><em>onUnfriend(i, userId)</em>: Takes in the index of the friend to unfriend and their user id. Calls an API function to unfriend the user with the supplied user id.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="friendrequests">FriendRequests<a class="hash-link" href="#friendrequests" title="Direct link to heading">​</a></h4><p><em>requests</em>: State variable holding a list of users who have an outgoing friend request for the user.</p><p><em>respondRequest(i, userId, isAccept)</em>: Respond to the friend request coming from the user with the supplied user id. If isAccept is true, a friendship is established between the user and the sender of the friend request. In both cases, the friend request is deleted. <code>i</code> is used to remove the request from <code>requests</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-server-diagram">4.2 Server Diagram<a class="hash-link" href="#42-server-diagram" title="Direct link to heading">​</a></h3><p>Each component in the diagram above is a Django view. A Django view is an API function.</p><p>Each component in the diagram above is a Django view. A Django view is an API function.
These views make up the application&#x27;s social functionality.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="43-entity-relationship-diagram">4.3 Entity Relationship Diagram<a class="hash-link" href="#43-entity-relationship-diagram" title="Direct link to heading">​</a></h3><p>The User entity represents a user of the application. It contains basic information on the user, with their username as the primary key. User has direct relationships with the Portfolio entity. A user can place an order (buying stock.) When a stock is ordered, it is placed in a user&#x27;s portfolio, which is a collection of stocks the user currently has stake in (sold stocks are not included.) The Portfolio entity has a primary key portfolio_id and foreign key username, linking the portfolio to the user it belongs to. The stock table represents a specific stock, and contains a primary key stock_symbol and various metrics used to determine the stock&#x27;s value. The Portfolio and Stock entities have a many-to-many relationship, thus they have a junction table Portfolio_Stock. This contains foreign keys portfolio_id and stock_symbol. These foreign keys act together to uniquely identify an entry in the junction table. The Backlog entity holds stock data for every stock in the S&amp;P 500 index. It is automatically updated daily with the most recent stock data. The Model_Prediction entity holds predicted close prices that are outputted by our machine learning model.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="section-5---sequence-diagrams">Section 5 - Sequence Diagrams<a class="hash-link" href="#section-5---sequence-diagrams" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="51">5.1<a class="hash-link" href="#51" title="Direct link to heading">​</a></h3><p>User wants to keep track of stock data in order to make profitable trades.</p><br><ol><li>The user enters their username and password and logs in.</li><li>The client makes an API call to get a JWT token pair (access and refresh tokens).</li><li>The server returns a JWT token pair.</li><li>The client saves the token pair in local storage for later use.</li><li>The client routes to the home page, which has a &quot;View Dashboard&quot; button.</li><li>The user clicks on the &quot;View Dashboard&quot; button.</li><li>The client routes to the stock graph page.</li><li>The client makes an API call to get historical stock data for a random company.</li><li>A JSON object is returned with all the historical data.</li><li>The user selects Amazon stock from the dropdown.</li><li>The client makes an API call to get Amazon&#x27;s historical stock data</li><li>The server returns a JSON object representing Amazon&#x27;s historical stock data.</li><li>The client displays the data on the graph.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="52">5.2<a class="hash-link" href="#52" title="Direct link to heading">​</a></h3><p>User is a student who is unexperienced in the stock market, looking to get started with the guidance of a friend. They use the app&#x27;s social feature to learn portfolio building tips from their friend.</p><br><ol><li>UnexperiencedUser is assumed to be logged in. They click on the &quot;Social&quot; tab.</li><li>The website navigates to the the Social page, which has a search feature for users.</li><li>UnexperiencedUser enters ExperiencedUser&#x27;s username in the search bar.</li><li>The website makes an API call to the backend, looking for a user that matches the entered username.</li><li>The backend returns an object representing ExperiencedUser. It has their username and user id.</li><li>The website displays the username of ExperiencedUser along with a &quot;send&quot; button next to the name.</li><li>UnexperiencedUser clicks the &quot;send&quot; button to send a friend request to ExperiencedUser.</li><li>The website makes an API call to the backend.</li><li>The backend saves the friend request in the database.</li><li>The website shows a &quot;revoke&quot; button, in case the user changes their mind about the friend request.</li><li>ExperiencedUser is assumed to be logged in. They click on the &quot;Social&quot; tab.</li><li>The website navigates to the the Social page.</li><li>ExperiencedUser clicks on the &quot;Friend Requests&quot; tab.</li><li>The website makes an API call to the backend.</li><li>The backend sends a JSON list of friend requests that are sent to ExperiencedUser.</li><li>The website displays the list of friend requests, along with &quot;accept&quot; and &quot;decline&quot; buttons.</li><li>ExperiencedUser clicks &quot;accept&quot; on UnexperiencedUser&#x27;s friend request.</li><li>The website makes an API call to accept the friend request.</li><li>The backend handles the API call, saving the friendship status to the database, and deleting the friend request from the database.</li><li>The backend returns a success status code: HTTP 200 OK</li><li>The website now re-renders the friend requests list. The accepted friend request is gone from the list.</li><li>UnexperiencedUser clicks on the &quot;Friends List&quot; tab in Social.</li><li>The website makes an API call to the server to get the list of friends.</li><li>The backend returns the list of friends in JSON format. ExperiencedUser is in this list.</li><li>The website displays a list of friends, with &quot;unfriend&quot; and &quot;view portfolio&quot; buttons.</li><li>UnexperiencedUser clicks on &quot;view portfolio&quot; on ExperiencedUser&#x27;s listing.</li><li>The website makes an API call to get ExperiencedUser&#x27;s portfolio.</li><li>The backend returns the portfolio in JSON format.</li><li>The website renders the graphs for ExperiencedUser&#x27;s portfolio.</li><li>UnexperiencedUser observes ExperiencedUser&#x27;s stock investment choices and learns from them.</li><li>UnexperiencedUser has a better idea of how to invest in stocks.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="53">5.3<a class="hash-link" href="#53" title="Direct link to heading">​</a></h3><p>User is a student who is fairly confident about their knowledge of the stock market. They want to utilize machine learning to gain an edge in stock trading. The user is assumed to have just logged in and landed on the welcome page.</p><br><ol><li>The user clicks on the simulation tab.</li><li>The website navigates to the simulation page, from which users can add funds.</li><li>The user enters 100 for the investment amount.</li><li>The website makes an API call to save 100 as the investment amount.</li><li>The backend services the API call, returning a JSON object with the investment amount.</li><li>The website displays the investment amount.</li><li>The user clicks on the &quot;Tradester&quot; button.</li><li>The website navigates to the stock graph page.</li><li>The user selects Alaska Airlines (ALK) from the dropdown.</li><li>The website displays gets the historical data for ALK from the backend and displays it on the graph.</li><li>The user enters the number &quot;1&quot; in the input field below the graph.</li><li>The website makes an API call to purchase a share of ALK stock.</li><li>The website alerts that the purchase was successful.</li><li>The user navigates to the portfolio page.</li><li>The user sees the ALK stock in their portfolio.</li><li>The user hovers over the predicted close price for ALK and sees that its price is predicted to increase.</li><li>The user decides to keep ALK in their portfolio, thereby utilizing machine learning to inform their stock investment decisions.</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Capstone-Projects-2023-Spring/project-algorithmic-trading/edit/main/documentation/docs/system-architecture/design.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><details><summary>Revision History</summary><table><thead><tr><th scope="row">Author</th><th scope="row">Revision</th><th scope="row">Date</th></tr></thead><tbody>nothing</tbody></table></details><span class="theme-last-updated">Last updated<!-- --> by <b>Shawn Fowler</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/project-algorithmic-trading/docs/category/system-architecture"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">System Architecture</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/project-algorithmic-trading/docs/category/api-specification"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">API Specification</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#section-1---overview" class="table-of-contents__link toc-highlight">Section 1 - Overview</a></li><li><a href="#section-2---components-and-interfaces" class="table-of-contents__link toc-highlight">Section 2 - Components and Interfaces</a></li><li><a href="#algorithms" class="table-of-contents__link toc-highlight">Algorithms</a></li><li><a href="#section-4---class-diagrams" class="table-of-contents__link toc-highlight">Section 4 - Class Diagrams</a><ul><li><a href="#41-client-diagram" class="table-of-contents__link toc-highlight">4.1 Client Diagram</a></li><li><a href="#42-server-diagram" class="table-of-contents__link toc-highlight">4.2 Server Diagram</a></li><li><a href="#43-entity-relationship-diagram" class="table-of-contents__link toc-highlight">4.3 Entity Relationship Diagram</a></li></ul></li><li><a href="#section-5---sequence-diagrams" class="table-of-contents__link toc-highlight">Section 5 - Sequence Diagrams</a><ul><li><a href="#51" class="table-of-contents__link toc-highlight">5.1</a></li><li><a href="#52" class="table-of-contents__link toc-highlight">5.2</a></li><li><a href="#53" class="table-of-contents__link toc-highlight">5.3</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/project-algorithmic-trading/docs/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Capstone-Projects-2023-Spring/project-algorithmic-trading" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/project-algorithmic-trading/img/Tradester_Logo.svg" alt="Tradester Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/project-algorithmic-trading/img/Tradester_Logo.svg" alt="Tradester Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2023 Project Algorithmic-trading, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/project-algorithmic-trading/assets/js/runtime~main.283303db.js"></script>
<script src="/project-algorithmic-trading/assets/js/main.c4817d14.js"></script>
</body>
</html>