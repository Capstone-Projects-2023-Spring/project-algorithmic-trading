"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[3961],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},h="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),h=c(n),u=r,m=h["".concat(l,".").concat(u)]||h[u]||p[u]||i;return n?a.createElement(m,s(s({ref:t},d),{},{components:n})):a.createElement(m,s({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,s=new Array(i);s[0]=u;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[h]="string"==typeof e?e:r,s[1]=o;for(var c=2;c<i;c++)s[c]=n[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5531:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:1},s=void 0,o={unversionedId:"system-architecture/design",id:"system-architecture/design",title:"design",description:"Section 1 - Overview",source:"@site/docs/system-architecture/design.md",sourceDirName:"system-architecture",slug:"/system-architecture/design",permalink:"/project-algorithmic-trading/docs/system-architecture/design",draft:!1,editUrl:"https://github.com/Capstone-Projects-2023-Spring/project-algorithmic-trading/edit/main/documentation/docs/system-architecture/design.md",tags:[],version:"current",lastUpdatedBy:"Shawn Fowler",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docsSidebar",previous:{title:"System Architecture",permalink:"/project-algorithmic-trading/docs/category/system-architecture"},next:{title:"API Specification",permalink:"/project-algorithmic-trading/docs/category/api-specification"}},l={},c=[{value:"Section 1 - Overview",id:"section-1---overview",level:2},{value:"Section 2 - Components and Interfaces",id:"section-2---components-and-interfaces",level:2},{value:"2.1 Client",id:"21-client",level:6},{value:"2.2 Server",id:"22-server",level:6},{value:"2.3 Database",id:"23-database",level:6},{value:"2.4 Machine Learning Model",id:"24-machine-learning-model",level:6},{value:"Algorithms",id:"algorithms",level:2},{value:"Section 4 - Class Diagrams",id:"section-4---class-diagrams",level:2},{value:"4.1 Client Diagram",id:"41-client-diagram",level:3},{value:"App",id:"app",level:4},{value:"Login",id:"login",level:4},{value:"Register",id:"register",level:4},{value:"Portfolio",id:"portfolio",level:4},{value:"Candle",id:"candle",level:4},{value:"Simulation",id:"simulation",level:4},{value:"Search",id:"search",level:4},{value:"Friends",id:"friends",level:4},{value:"FriendRequests",id:"friendrequests",level:4},{value:"4.2 Server Diagram",id:"42-server-diagram",level:3},{value:"4.3 Entity Relationship Diagram",id:"43-entity-relationship-diagram",level:3},{value:"Section 5 - Sequence Diagrams",id:"section-5---sequence-diagrams",level:2},{value:"5.1",id:"51",level:3},{value:"5.2",id:"52",level:3},{value:"5.3",id:"53",level:3}],d={toc:c};function h(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"section-1---overview"},"Section 1 - Overview"),(0,r.kt)("p",null,"The system is comprised of 4 different components: a client application in React, a server application in Django, two PostgreSQL databases, and a machine learning model for stock prediction that lives on Professor Wang's GPU server. The databases are accessed through an ORM. The user interacts with the client application, which makes API calls to the server. The server handles the calls, adding/deleting/modifying the database, or simply fetching data from the database. Our database is scheduled to be updated with new stock data daily. Our machine learning model is scheduled to run daily to make predictions for the next day for every stock in the S&P 500. Scheduling is done separately from our application using a Heroku scheduling tool."),(0,r.kt)("h2",{id:"section-2---components-and-interfaces"},"Section 2 - Components and Interfaces"),(0,r.kt)("p",null,"This application will use four different components: client, server, database, and a machine learning model."),(0,r.kt)("h6",{id:"21-client"},"2.1 Client"),(0,r.kt)("p",null,"A React app. Upon logging in, the user has access to a graph that shows stock prices for the S&P 500 companies over the past month. The user can add fake funds to their account and use those funds to simulate the purchasing of stocks. Purchased stocks are added to the user's portfolio, which can be accessed through the website's navigation bar. The portfolio page displays the user's available funds (which are simulated), as well as a graph for each stock that the user \"owns.\" Each graph will display the number of shares of a stock that the user owns, as well as the stock's close values for the last six days. The graph will also display a close price prediction for the next business day, to help guide the user's stock trading decisions. The website will also allow users to add friends to be able to view their portfolios. This also helps the user in their stock trading decisions, as they can follow in the footsteps of a mentor who has experience in the stock market."),(0,r.kt)("h6",{id:"22-server"},"2.2 Server"),(0,r.kt)("p",null,"A Django application. This component accesses stock data from our database and sends it to the client. This allows the client to display stock data of the S&P 500 companies. The server also handles user authentication and account registration. It receives and processes requests to add/sell stocks to/from the user's portfolio. It processes the sending, receiving, and responding of friend requests. It also allows users to search for other users to add them as friends. The interface to the server is through HTTP requests coming from the client."),(0,r.kt)("h6",{id:"23-database"},"2.3 Database"),(0,r.kt)("p",null,"Two PostgreSQL databases. One database is used to hold user, friendship, friend request, and portfolio data. The other database is used to hold large amounts of historical stock data, and next-day stock prediction data produced by the machine learning model. The interface for this component is through an ORM that translates python to SQL queries. These queries come from the server."),(0,r.kt)("h6",{id:"24-machine-learning-model"},"2.4 Machine Learning Model"),(0,r.kt)("p",null,"A machine learning model that predicts the next day's close value for each of the stocks in the S&P 500. This model lives on Professor Wang's GPU server, and is set to run daily after the stock market closes. "),(0,r.kt)("h2",{id:"algorithms"},"Algorithms"),(0,r.kt)("p",null,"This application will utilize machine learning to make decisions on which stock to purchase. Stocks will be analyzed as discrete time data, and whether or not to purchase a stock will be determined by the stock's price, market cap, historical returns, volume of historical trades, alpha (excess return), beta (volatility) and any other quantitative data. This means we will be using technical anaylsis for our algorithms, which is best used in more short term trades. Essentially, the behavior of stock prices will be treated as a regression problem. In particular, there will be three trading strategies employed:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"S&P 500: Evaluate each stock comprising the S&P 500, determine its growth potential and sort each company in order of predicted growth. Then, if fractional shares are allowed, divide the user's capital and invest in each stock in proportion to its growth potential, i.e. if Apple is projected to be three times more likely to grow than Tesla, invest three times more money into Apple than Tesla. If fractional shaes are not allowed, then find every permutation of stocks that may be purchased from this list and chose the overall most profitable one."),(0,r.kt)("li",{parentName:"ol"},"Long Term: Analyze the stock market and flag certain stocks for growth, investing a specified percentage of the user's capital into each flagged stock. Then, once the stock is determined to no longer be growing, sell the stock."),(0,r.kt)("li",{parentName:"ol"},"Day Trading: Analyzing the stock market, find stocks that are currently growing and then immediately sell once the begin decreasing. This will be done at a high frequency.")),(0,r.kt)("p",null,"The success of these algorithms will be determined by how they perform in comparison to the S&P 500, root mean squared error, and mean absolute percent error."),(0,r.kt)("h2",{id:"section-4---class-diagrams"},"Section 4 - Class Diagrams"),(0,r.kt)("h3",{id:"41-client-diagram"},"4.1 Client Diagram"),(0,r.kt)("mermaid",{value:"---\ntitle: Figure 1 - Frontend Component Diagram\n---\nclassDiagram\n  class Friends {\n    - friends: Array\n    - onUnfriend(i, userId)\n  }\n\n  class FriendRequests {\n    - requests: Array\n    - respondRequest(i, userId, isAccept)\n  }\n\n  class Search {\n    - username: String\n    - foundUser: Object\n    - sendRequest()\n    - revokeRequest()\n    - findUser()\n  }\n\n  class Simulation {\n    - investment: Number\n    - setAndFetchInvestment(Number value)\n  }\n\n  class Candle {\n    - currentStockAmount: Number\n    - getDefaultDisplay()\n    - updatePortfolio()\n    - updateAmount()\n    - updateChart()\n  }\n\n  class Portfolio {\n    - username: String\n    - isSelf: Boolean\n    - userId: String\n    - sellStock(String stock, Number qty, Number price)\n    - genData(String name, Array data)\n    - loadPortfolio(Number id)\n  }\n\n  class App {\n    - loggedIn: Boolean\n    - Nav()\n    - HomePage()\n  }\n\n  class Login {\n    - username: String\n    - password: String\n    - feedback: String\n    - onLogin()\n  }\n\n  class Register {\n    - username: String\n    - password: String\n    - passwordConf: String\n    - feedback: String\n    - onRegister()\n  }\n\n  App --\x3e Login : Pass 'loggedIn' as prop\n  Login -- Register : Nagivate\n  Search -- Friends : Navigate\n  Friends -- FriendRequests : Navigate\n  Search -- FriendRequests : Navigate"}),(0,r.kt)("h4",{id:"app"},"App"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"loggedIn"),": A boolean value indicating if user is logged in"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Nav()"),": The navigation bar"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"HomePage()"),": A welcome page that the user lands on upon visiting the page."),(0,r.kt)("h4",{id:"login"},"Login"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"username"),": State variable holding the current text in the username input field."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"password"),": State variable holding the current text in the password input field."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"feedback"),": State variable holding the current feedback. Feedback is used to display messages (error or otherwise) to the user."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"onLogin()"),": Called when the user clicks the login button or hits enter after typing a password. This function makes an API call to authenticate the user. On success, the user is navigated to the home page. Otherwise, an error message is displayed"),(0,r.kt)("h4",{id:"register"},"Register"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"username"),": State variable holding the current text in the username input field."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"password"),": State variable holding the current text in the password input field."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"passwordConf"),": State variable holding the current text in the password confirmation input field."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"feedback"),": State variable holding the current feedback. Feedback is used to display messages (error or otherwise) to the user."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"onRegister()"),": Called when the user clicks the register button or hits enter after typing the password confirmation. This function makes an API call to try to register the user. On success, a message is displayed indicating that an account was created. Otherwise, an error message is displayed."),(0,r.kt)("h4",{id:"portfolio"},"Portfolio"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"username"),": The username of the user who owns the portfolio. Passed through props."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"isSelf"),": An indication if this portfolio belongs to the user who is viewing it. If this value is true, a sell button is displayed next to each stock in the user's portfolio. Passed through props."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"userId"),": The user id of the user who owns the portfolio. Used to query the backend for the portfolio data. Passed through props."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"sellStock(String stock, Number qty, Number price)"),": Takes in the stock's ticker, the number of shares of said stock to sell, and the price of the stock. It makes an API call to sell the stock and sends an alert to the user that the stock was sold."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"genData(String name, Array data)"),": Takes in the name (ticker) of a stock and an array containing objects that each contain a close price and the date of that close price. Generates a random color for the graph and returns the parameters in a way that is expected by the Apex Charts library."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"loadPortfolio(Number id)"),": Makes an API call to get the portfolio of the user with the supplied id."),(0,r.kt)("h4",{id:"candle"},"Candle"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"currentStockAmount"),": The amount of shares to purchase from the currently selected stock."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"getDefaultDisplay()"),": Shows stock data for a random company. Called upon landing on the candle page."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"updatePortfolio()"),': "Purchase" a share (or multiple, depending on ) of the selected stock and add it to the user\'s portfolio.'),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"updateAmount()"),": Update currentStockAmount based on changes to the input field."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"updateChart(String ticker, String name)"),": Makes the chart display stock data of the company with the supplied ticker. The name parameter is the company's name joined with the ticker joined with the sector that the company is in. The name parameter is displayed as the chart's title."),(0,r.kt)("h4",{id:"simulation"},"Simulation"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"investment"),": State variable representing the user's current available funds for investment."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"setAndFetchInvestment(Number value)"),": Makes an API call to set the supplied value as the user's investment. Updates the investment value on screen if the API call was successful."),(0,r.kt)("h4",{id:"search"},"Search"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"username"),": State variable holding the current text in the username input field."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"foundUser"),": Object that holds information about the last searched user."),(0,r.kt)("p",null,"The object looks like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{\n  username: String\n  user_id: Number\n  is_friend: Boolean\n  incoming_request: Boolean\n  outgoing_request: Boolean\n}\n")),(0,r.kt)("p",null,"This data is needed to determine what the search pages looks like as well as what actions can be made from the search page. If the searched user is a friend, the page displays a tag that shows friendship status. If the user has an incoming friend request from the searched user, no action can be taken from the search page. If the user has an outgoing friend request to the searched user, the user can revoke that friend request. Finally, if the searched user is not a friend, the user can send them a friend request."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"sendRequest()"),": Make an API call to send a friend request to the current found user."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"revokeRequest()"),": Make an API call to revoke a friend request that was previously sent to the current found user."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"findUser()"),": Make an API call to search for a user whose username matches the current value of ",(0,r.kt)("inlineCode",{parentName:"p"},"username")),(0,r.kt)("h4",{id:"friends"},"Friends"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"friends"),": State variable holding a list of the user's friends."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"onUnfriend(i, userId)"),": Takes in the index of the friend to unfriend and their user id. Calls an API function to unfriend the user with the supplied user id."),(0,r.kt)("h4",{id:"friendrequests"},"FriendRequests"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"requests"),": State variable holding a list of users who have an outgoing friend request for the user."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"respondRequest(i, userId, isAccept)"),": Respond to the friend request coming from the user with the supplied user id. If isAccept is true, a friendship is established between the user and the sender of the friend request. In both cases, the friend request is deleted. ",(0,r.kt)("inlineCode",{parentName:"p"},"i")," is used to remove the request from ",(0,r.kt)("inlineCode",{parentName:"p"},"requests"),"."),(0,r.kt)("h3",{id:"42-server-diagram"},"4.2 Server Diagram"),(0,r.kt)("mermaid",{value:"---\ntitle: Figure 2 - Django View Diagram - Portfolio & Stock Data\n---\nclassDiagram\n  class GetStockDataCandle\n  class PurchaseStock\n  class SaveInvestment\n  class DisplayPortfolio\n  class SellStock"}),(0,r.kt)("p",null,"Each component in the diagram above is a Django view. A Django view is an API function."),(0,r.kt)("mermaid",{value:"---\ntitle: Figure 3 - Django View Diagram - Social Functionality\n---\nclassDiagram\n  class FindUserByUsername\n  class SendFriendRequest\n  class GetFriendRequests\n  class RespondFriendRequest\n  class GetFriend"}),(0,r.kt)("mermaid",{value:"classDiagram\n  class Unfriend\n  class CheckFriendship\n  class CheckOutgoingRequest\n  class CheckIncomingRequest\n  class RevokeRequest"}),(0,r.kt)("p",null,"Each component in the diagram above is a Django view. A Django view is an API function.\nThese views make up the application's social functionality."),(0,r.kt)("h3",{id:"43-entity-relationship-diagram"},"4.3 Entity Relationship Diagram"),(0,r.kt)("mermaid",{value:"erDiagram\n    USER ||--o{ PORTFOLIO: has\n    USER{\n        string username\n        string password\n    }\n\n    STOCK {\n        string stock_symbol\n        string company_name\n        string sector\n        float current_price\n        float market_cap\n        float dividend_yield\n        float earnings_per_share\n        float price_to_earnings_ratio\n        float beta\n        float high_52\n        float low_52\n        float avg_daily_volume\n        float daily_high\n        float daily_low\n        float daily_num_transactions\n        float daily_open_price\n        float daily_volume\n        float daily_vwap\n        date timestamp\n    }\n    PORTFOLIO {\n        int portfolio_id\n        string username\n        float balance\n    }\n    PORTFOLIO ||--o{ PORTFOLIO_STOCK : holds\n    PORTFOLIO_STOCK ||--o{ STOCK: holds\n    PORTFOLIO_STOCK {\n        int portfolio_id\n        int stock_symbol\n        int quantity\n        float purchase_price\n        date timestamp\n    }\n    BACKLOG {\n        string ticker\n        date date\n        float open\n        float close\n        float low\n        float high\n        float volume\n        int id\n    }\n    MODEL_PREDICTION {\n        string stock\n        float predicted_close\n        date date\n        float execution_time\n        int id\n    }"}),(0,r.kt)("p",null,"The User entity represents a user of the application. It contains basic information on the user, with their username as the primary key. User has direct relationships with the Portfolio entity. A user can place an order (buying stock.) When a stock is ordered, it is placed in a user's portfolio, which is a collection of stocks the user currently has stake in (sold stocks are not included.) The Portfolio entity has a primary key portfolio_id and foreign key username, linking the portfolio to the user it belongs to. The stock table represents a specific stock, and contains a primary key stock_symbol and various metrics used to determine the stock's value. The Portfolio and Stock entities have a many-to-many relationship, thus they have a junction table Portfolio_Stock. This contains foreign keys portfolio_id and stock_symbol. These foreign keys act together to uniquely identify an entry in the junction table. The Backlog entity holds stock data for every stock in the S&P 500 index. It is automatically updated daily with the most recent stock data. The Model_Prediction entity holds predicted close prices that are outputted by our machine learning model."),(0,r.kt)("h2",{id:"section-5---sequence-diagrams"},"Section 5 - Sequence Diagrams"),(0,r.kt)("h3",{id:"51"},"5.1"),(0,r.kt)("p",null,"User wants to keep track of stock data in order to make profitable trades."),(0,r.kt)("mermaid",{value:'sequenceDiagram\n    actor User\n    participant Client\n    participant Server\n    User ->>+ Client: Log in\n    Client ->>+ Server: HTTP POST body = {username, password}\n    Server --\x3e>- Client: HTTP Response = {accessToken, refreshToken}\n    Client ->> Client: Save tokens to local storage\n    Client --\x3e>- User: Route to welcome page\n    User ->>+ Client: Click on "View Dashboard" button.\n    Client --\x3e>- User: Route to stock graph page.\n    Client ->>+ Server: HTTP GET get_stock_data_candle/<RANDOM_STOCK_TICKER>\n    Server --\x3e>- Client: JSON object with historical stock data\n    Client --\x3e> User: Display random stock data graph\n    User ->>+ Client: Select Amazon stock from dropdown\n    Client ->>+ Server: HTTP GET get_stock_data_candle/AMZN\n    Server --\x3e>- Client: JSON object with historical stock data\n    Client --\x3e>- User: Display Amazon stock data graph'}),(0,r.kt)("br",null),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"The user enters their username and password and logs in."),(0,r.kt)("li",{parentName:"ol"},"The client makes an API call to get a JWT token pair (access and refresh tokens)."),(0,r.kt)("li",{parentName:"ol"},"The server returns a JWT token pair."),(0,r.kt)("li",{parentName:"ol"},"The client saves the token pair in local storage for later use."),(0,r.kt)("li",{parentName:"ol"},'The client routes to the home page, which has a "View Dashboard" button.'),(0,r.kt)("li",{parentName:"ol"},'The user clicks on the "View Dashboard" button.'),(0,r.kt)("li",{parentName:"ol"},"The client routes to the stock graph page."),(0,r.kt)("li",{parentName:"ol"},"The client makes an API call to get historical stock data for a random company."),(0,r.kt)("li",{parentName:"ol"},"A JSON object is returned with all the historical data."),(0,r.kt)("li",{parentName:"ol"},"The user selects Amazon stock from the dropdown."),(0,r.kt)("li",{parentName:"ol"},"The client makes an API call to get Amazon's historical stock data"),(0,r.kt)("li",{parentName:"ol"},"The server returns a JSON object representing Amazon's historical stock data."),(0,r.kt)("li",{parentName:"ol"},"The client displays the data on the graph.")),(0,r.kt)("h3",{id:"52"},"5.2"),(0,r.kt)("p",null,"User is a student who is unexperienced in the stock market, looking to get started with the guidance of a friend. They use the app's social feature to learn portfolio building tips from their friend."),(0,r.kt)("mermaid",{value:'sequenceDiagram\n    actor UnexperiencedUser\n    actor ExperiencedUser\n    participant Client\n    participant Server\n    UnexperiencedUser ->>+ Client: Click on "Social" tab\n    Client --\x3e>- UnexperiencedUser: Navigate to the Social page\n    UnexperiencedUser ->>+ Client: Enter ExperiencedUser\'s username in search bar\n    Client ->>+ Server: HTTP GET find_user_by_username USERNAME\n    Server --\x3e>- Client: JSON object with username and user id of ExperiencedUser\n    Client --\x3e>- UnexperiencedUser: Show ExperiencedUser\'s username and a "send" button\n    UnexperiencedUser ->>+ Client: Click "send" button\n    Client ->>+ Server: HTTP POST send_friend_request EXPERIENCED_USER_ID\n    Server ->> Server: Save friend request to database\n    Server --\x3e>- Client: HTTP OK\n    Client --\x3e>- UnexperiencedUser: Show a "revoke" button\n    ExperiencedUser ->>+ Client: Click on "Social" tab\n    Client --\x3e>- ExperiencedUser: Navigate to the Social page\n    ExperiencedUser ->>+ Client: Click on "Friend Requests" tab within the Social page\n    Client ->>+ Server: HTTP GET get_friend_requests\n    Server --\x3e>- Client: A JSON list of objects for each user who has a pending friend request for ExperiencedUser. One of the users is UnexperiencedUser\n    Client --\x3e>- ExperiencedUser: Display a list of usernames, with an "accept" and "decline" button for each one\n    ExperiencedUser ->>+ Client: Click "accept" on UnexperiencedUser\'s friend request\n    Client ->>+ Server: HTTP POST respond_friend_request UNEXPERIENCED_USER_ID, ACCEPT\n    Server ->> Server: Save friendship status to database\n    Server --\x3e>- Client: HTTP OK\n    Client --\x3e>- ExperiencedUser: Accepted friend request is gone from the list of friend requests\n    UnexperiencedUser ->>+ Client: Click on "Friends List"\n    Client ->>+ Server: HTTP GET get_friends\n    Server --\x3e>- Client: JSON list of objects. Each objects is a friend and has the username and id of a friend\n    Client --\x3e>- UnexperiencedUser: Display a list of friends with a "unfriend" and "view portfolio" button for each. ExperiencedUser is in this list.\n    UnexperiencedUser ->>+ Client: Click on "view portfolio" on ExperiencedUser\'s listing\n    Client ->>+ Server: HTTP GET display_portfolio EXPERIENCED_USER_ID\n    Server --\x3e>- Client: JSON object representing ExperiencedUser\'s portfolio\n    Client --\x3e>- UnexperiencedUser: Display ExperiencedUser\'s portfolio'}),(0,r.kt)("br",null),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},'UnexperiencedUser is assumed to be logged in. They click on the "Social" tab.'),(0,r.kt)("li",{parentName:"ol"},"The website navigates to the the Social page, which has a search feature for users."),(0,r.kt)("li",{parentName:"ol"},"UnexperiencedUser enters ExperiencedUser's username in the search bar."),(0,r.kt)("li",{parentName:"ol"},"The website makes an API call to the backend, looking for a user that matches the entered username."),(0,r.kt)("li",{parentName:"ol"},"The backend returns an object representing ExperiencedUser. It has their username and user id."),(0,r.kt)("li",{parentName:"ol"},'The website displays the username of ExperiencedUser along with a "send" button next to the name.'),(0,r.kt)("li",{parentName:"ol"},'UnexperiencedUser clicks the "send" button to send a friend request to ExperiencedUser.'),(0,r.kt)("li",{parentName:"ol"},"The website makes an API call to the backend."),(0,r.kt)("li",{parentName:"ol"},"The backend saves the friend request in the database."),(0,r.kt)("li",{parentName:"ol"},'The website shows a "revoke" button, in case the user changes their mind about the friend request.'),(0,r.kt)("li",{parentName:"ol"},'ExperiencedUser is assumed to be logged in. They click on the "Social" tab.'),(0,r.kt)("li",{parentName:"ol"},"The website navigates to the the Social page."),(0,r.kt)("li",{parentName:"ol"},'ExperiencedUser clicks on the "Friend Requests" tab.'),(0,r.kt)("li",{parentName:"ol"},"The website makes an API call to the backend."),(0,r.kt)("li",{parentName:"ol"},"The backend sends a JSON list of friend requests that are sent to ExperiencedUser."),(0,r.kt)("li",{parentName:"ol"},'The website displays the list of friend requests, along with "accept" and "decline" buttons.'),(0,r.kt)("li",{parentName:"ol"},'ExperiencedUser clicks "accept" on UnexperiencedUser\'s friend request.'),(0,r.kt)("li",{parentName:"ol"},"The website makes an API call to accept the friend request."),(0,r.kt)("li",{parentName:"ol"},"The backend handles the API call, saving the friendship status to the database, and deleting the friend request from the database."),(0,r.kt)("li",{parentName:"ol"},"The backend returns a success status code: HTTP 200 OK"),(0,r.kt)("li",{parentName:"ol"},"The website now re-renders the friend requests list. The accepted friend request is gone from the list."),(0,r.kt)("li",{parentName:"ol"},'UnexperiencedUser clicks on the "Friends List" tab in Social.'),(0,r.kt)("li",{parentName:"ol"},"The website makes an API call to the server to get the list of friends."),(0,r.kt)("li",{parentName:"ol"},"The backend returns the list of friends in JSON format. ExperiencedUser is in this list."),(0,r.kt)("li",{parentName:"ol"},'The website displays a list of friends, with "unfriend" and "view portfolio" buttons.'),(0,r.kt)("li",{parentName:"ol"},'UnexperiencedUser clicks on "view portfolio" on ExperiencedUser\'s listing.'),(0,r.kt)("li",{parentName:"ol"},"The website makes an API call to get ExperiencedUser's portfolio."),(0,r.kt)("li",{parentName:"ol"},"The backend returns the portfolio in JSON format."),(0,r.kt)("li",{parentName:"ol"},"The website renders the graphs for ExperiencedUser's portfolio."),(0,r.kt)("li",{parentName:"ol"},"UnexperiencedUser observes ExperiencedUser's stock investment choices and learns from them."),(0,r.kt)("li",{parentName:"ol"},"UnexperiencedUser has a better idea of how to invest in stocks.")),(0,r.kt)("h3",{id:"53"},"5.3"),(0,r.kt)("p",null,"User is a student who is fairly confident about their knowledge of the stock market. They want to utilize machine learning to gain an edge in stock trading. The user is assumed to have just logged in and landed on the welcome page."),(0,r.kt)("mermaid",{value:'sequenceDiagram\n    actor User\n    participant Client\n    participant Server\n    User ->>+ Client: Click on "Simulation" tab\n    Client --\x3e>- User: Navigate to the simulation page\n    User ->>+ Client: Enter 100 for investment amount\n    Client ->>+ Server: HTTP GET save_investment 100\n    Server --\x3e>- Client: Return JSON object with the investment amount\n    Client --\x3e>- User: Display the current investment amount: $100\n    User ->>+ Client: Click on "Tradester" button.\n    Client --\x3e>- User: Route to stock graph page.\n    User ->>+ Client: Select an Alaska Air Lines (ALK) from the dropdown\n    Client ->>+ Server: HTTP GET get_stock_data_candle/ALK\n    Server --\x3e>- Client: JSON object with historical stock data for ALK\n    Client --\x3e>- User: Display AlK stock data graph\n    User ->>+ Client: Enter 1 in the input field below the graph and hit purchase\n    Client ->>+ Server: HTTP GET purchase_stock TICKER, QUANTITY, PRICE\n    Server --\x3e>- Client: HTTP OK\n    Client --\x3e>- User: Alert that purchase was successful\n    User ->>+ Client: Click on the "Portfolio" tab\n    Client ->>+ Server: HTTP GET display_portfolio USER_ID\n    Server --\x3e>- Client: JSON object representing the user\'s portfolio\n    Client --\x3e>- User: Display the user\'s portfolio\n    User ->>+ Client: Hover over predicted close value for ALK stock\n    Client --\x3e>- User: Display the prediction'}),(0,r.kt)("br",null),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"The user clicks on the simulation tab."),(0,r.kt)("li",{parentName:"ol"},"The website navigates to the simulation page, from which users can add funds."),(0,r.kt)("li",{parentName:"ol"},"The user enters 100 for the investment amount."),(0,r.kt)("li",{parentName:"ol"},"The website makes an API call to save 100 as the investment amount."),(0,r.kt)("li",{parentName:"ol"},"The backend services the API call, returning a JSON object with the investment amount."),(0,r.kt)("li",{parentName:"ol"},"The website displays the investment amount."),(0,r.kt)("li",{parentName:"ol"},'The user clicks on the "Tradester" button.'),(0,r.kt)("li",{parentName:"ol"},"The website navigates to the stock graph page."),(0,r.kt)("li",{parentName:"ol"},"The user selects Alaska Airlines (ALK) from the dropdown."),(0,r.kt)("li",{parentName:"ol"},"The website displays gets the historical data for ALK from the backend and displays it on the graph."),(0,r.kt)("li",{parentName:"ol"},'The user enters the number "1" in the input field below the graph.'),(0,r.kt)("li",{parentName:"ol"},"The website makes an API call to purchase a share of ALK stock."),(0,r.kt)("li",{parentName:"ol"},"The website alerts that the purchase was successful."),(0,r.kt)("li",{parentName:"ol"},"The user navigates to the portfolio page."),(0,r.kt)("li",{parentName:"ol"},"The user sees the ALK stock in their portfolio."),(0,r.kt)("li",{parentName:"ol"},"The user hovers over the predicted close price for ALK and sees that its price is predicted to increase."),(0,r.kt)("li",{parentName:"ol"},"The user decides to keep ALK in their portfolio, thereby utilizing machine learning to inform their stock investment decisions.")))}h.isMDXComponent=!0}}]);